# **–¶–µ–ª—å —Ä–∞–±–æ—Ç—ã**

–ù–∞—É—á–∏—Ç—å—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å Dockerfile, –ø–æ–Ω–∏–º–∞—Ç—å —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É ¬´–ø–ª–æ—Ö–∏–º–∏¬ª –∏
¬´—Ö–æ—Ä–æ—à–∏–º–∏¬ª –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏ –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ Dockerfile, –∞ —Ç–∞–∫–∂–µ –æ—Å–≤–æ–∏—Ç—å –±–∞–∑–æ–≤—ã–µ
–ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏.

------------------------------------------------------------------------

# **–•–æ–¥ —Ä–∞–±–æ—Ç—ã**

## **1. –ê—ç–ê–≠–ê–≠–ê–≠ –Ω–∞—á–∏–Ω–∞–µ–º –ø–æ–Ω–∏–º–∞—Ç—å —Å—É—Ç—å –∏ —á–∏—Ç–∞—Ç—å**
![–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è](https://github.com/user-attachments/assets/53bab3c7-9a1c-4445-8ad1-5b3f0880df0e)

–ü–µ—Ä–≤–æ–µ, —á—Ç–æ –Ω—É–∂–Ω–æ –±—ã–ª–æ —Å–¥–µ–ª–∞—Ç—å ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker Desktop –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å,
—á—Ç–æ –∫–æ–º–∞–Ω–¥–∞ docker —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ PowerShell.
–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞—á–∞–ª–∞—Å—å –±–∏—Ç–≤–∞ —Å –ø–µ—Ä–≤—ã–º Dockerfile ‚Äî —Ç–µ–º —Å–∞–º—ã–º
–ø–ª–æ—Ö–∏–º, –∫–æ—Ç–æ—Ä—ã–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—à–∏–±–∫–∏ –∏ –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã.

------------------------------------------------------------------------

## **2. –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–æ—Ö–æ–≥–æ Dockerfile**

```dockerfile
# –û—á–µ–Ω—å –ø–ª–æ—Ö–æ–π üëø

FROM python:latest
# –û—à–∏–±–æ—á–∫–∞ –Ω–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –æ–±—Ä–∞–∑–∞(
WORKDIR /app
ADD . /app
# –û—à–∏–±–æ—á–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ADD –≤–º–µ—Å—Ç–æ COPY (—É–∂–∞—Å –∫–∞–∫ —Ç–∞–∫ –º–æ–∂–Ω–æ)
RUN apt-get update
RUN apt-get install -y git curl
# –ú–Ω–æ–≥–æ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö RUN ‚Äî —Å–æ–∑–¥–∞—é—Ç –ª–∏—à–Ω–∏–µ —Å–ª–æ–∏
RUN pip install flask requests pyyaml
# –û—à–∏–±–æ—á–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–µ–∑ requirements.txt –∏ –≤–µ—Ä—Å–∏–π (–º–¥—ç—ç—ç—ç)

CMD ["python", "app.py"]
# –û—à–∏–±–æ—á–∫–∞: –∑–∞–ø—É—Å–∫ –æ—Ç root (–±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è USER, –æ–æ–æ–æ–æ–æ –Ω–Ω–Ω–µ–µ–µ–µ—Ç—Ç—Ç—Ç)
```

–û—à–∏–±–∫–∏ –∑–¥–µ—Å—å –æ—á–µ–≤–∏–¥–Ω—ã:
- –ù–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥ RUN
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ADD
- –ù–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –æ–±—Ä–∞–∑–∞
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–µ–∑ requirements.txt –∏ –≤–µ—Ä—Å–∏–π
- –ó–∞–ø—É—Å–∫ –æ—Ç root

------------------------------------------------------------------------

## **3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Ö–æ—Ä–æ—à–∏–π Dockerfile**
```dockerfile
# —Ö–æ—Ä–æ—à–µ–Ω—å–∫–∏–π üòáüòáüòá
FROM python:3.9.6  
#  –ú—ã –ø–æ–º–µ–Ω—è–ª–∏) —Å—Ç–∞–ª–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è –æ–±—Ä–∞–∑–∞

WORKDIR /app

# –ú—ã –ø–æ–º–µ–Ω—è–ª–∏) COPY –≤–º–µ—Å—Ç–æ ADD –ø—É–ø—É–ø—É–ø–ø—É
COPY requirements.txt ./

# –ú—ã –ø–æ–º–µ–Ω—è–ª–∏) 
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

# –ú—ã –ø–æ–º–µ–Ω—è–ª–∏) —Ç–µ–ø–µ—Ä—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∑–∞–ø—É—Å–∫
RUN useradd -m appuser && \
    chown -R appuser:appuser /app
USER appuser

EXPOSE 5000
CMD ["python", "app.py"]
```
![–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è (1)](https://github.com/user-attachments/assets/59e33da7-3515-4fb3-8a0f-c0c363ccc647)
------------------------------------------------------------------------

## **4. Flask‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
```dockerfile
app.py

    from flask import Flask, jsonify

    app = Flask(__name__)

    @app.route('/')
    def home():
        return jsonify({"message": "Hello from container!"})

    if __name__ == '__main__':
        app.run(host='0.0.0.0', port=5000)
```

requirements.txt

    Flask==2.0.3
    Werkzeug==2.0.3
    requests==2.28.1
    PyYAML==6.0

------------------------------------------------------------------------

## **5. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**
```dockerfile
    docker build -f Dockerfile.bad -t lab-bad .
    docker build -f Dockerfile -t lab-good .
    docker run -p 5000:5000 lab-good
```
–†–µ–∑—É–ª—å—Ç–∞—Ç:
{"message": "Hello from container!"} –£–£–£–£–£–†–†–†–†–†–†–†–†–ê–ê–ê–ê–ê–ê–ê ü•≥ü•≥ü•≥

------------------------------------------------------------------------

## 6. –û—Ç–ª–∏—á–∏—è Dockerfile –∏ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

####  **–†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –ø–ª–æ—Ö–∏–º –∏ —Ö–æ—Ä–æ—à–∏–º Dockerfile**

| –ê—Å–ø–µ–∫—Ç | –ü–ª–æ—Ö–æ–π Dockerfile | –•–æ—Ä–æ—à–∏–π Dockerfile |
|--------|------------------|--------------------|
| –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ | `python:latest` ‚Äî –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–π, –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π | `python:3.9.6` ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è, –∫–æ–Ω—Ç—Ä–æ–ª—å –æ–∫—Ä—É–∂–µ–Ω–∏—è |
| –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ | `ADD` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (—Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç, —Å–∫–∞—á–∏–≤–∞–µ—Ç) | `COPY` ‚Äî –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ |
| –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Ä—É—á–Ω—É—é –±–µ–∑ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π | `requirements.txt` + —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º | –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–¥ root | –°–æ–∑–¥–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `appuser` |
| –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–ª–æ—ë–≤ | –ù–µ—Å–∫–æ–ª—å–∫–æ `RUN` –±–µ–∑ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–µ—à–∞, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ª–æ–∏ |

---

#### **–ü–ª–æ—Ö–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏**

–î–∞–∂–µ —Ö–æ—Ä–æ—à–∏–π Dockerfile –Ω–µ —Å–ø–∞—Å—ë—Ç –æ—Ç –æ—à–∏–±–æ–∫, –µ—Å–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏:

| –û—à–∏–±–∫–∞ | –ü–æ—á–µ–º—É —ç—Ç–æ –ø–ª–æ—Ö–æ |
|--------|------------------|
| –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–æ–¥ root | –£–≥—Ä–æ–∑–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ—Å—Ç—É–ø–∞ –∫ —Ö–æ—Å—Ç—É |
| –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Ä–µ—Å—É—Ä—Å–æ–≤ (CPU/RAM) | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∏—Ç—å —Å–∏—Å—Ç–µ–º—É |
| –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–æ–º–æ–≤ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö | –î–∞–Ω–Ω—ã–µ –∏—Å—á–µ–∑–∞—é—Ç –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ |
| –õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ | –ó–∞–ø–æ–ª–Ω—è–µ—Ç –¥–∏—Å–∫, —Å–ª–æ–∂–Ω–µ–µ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å ‚Äî –ª—É—á—à–µ –≤—ã–≤–æ–¥–∏—Ç—å –≤ STDOUT |


------------------------------------------------------------------------

## **7. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã**

-   –∏–∑—É—á–µ–Ω—ã –ø—Ä–∏–Ω—Ü–∏–ø—ã Dockerfile;
-   —Å–æ–∑–¥–∞–Ω—ã –¥–≤–∞ –æ–±—Ä–∞–∑–∞;
-   Flask‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ;
-   –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–∑ –ª–µ–≥—á–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ.

------------------------------------------------------------------------

# **–í—ã–≤–æ–¥:**

–í —Ö–æ–¥–µ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã —É–¥–∞–ª–æ—Å—å –æ—Å–≤–æ–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã —Å
Docker.
–ü–æ—Å–ª–µ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞—Ä–∞–±–æ—Ç–∞–ª, –∞ —Å–æ–æ–±—â–µ–Ω–∏–µ Hello from
container! —Å—Ç–∞–ª–æ —Å–∞–º—ã–º –ø—Ä–∏—è—Ç–Ω—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º üòÑ
![–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è (2)](https://github.com/user-attachments/assets/1c74e223-3b28-4a6b-acbe-4ec9fb9f0072)






